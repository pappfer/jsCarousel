"use strict";function _createForOfIteratorHelper(a){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(a=_unsupportedIterableToArray(a))){var b=0,c=function(){};return{s:c,n:function n(){return b>=a.length?{done:!0}:{done:!1,value:a[b++]}},e:function e(a){throw a},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,e,f=!0,g=!1;return{s:function s(){d=a[Symbol.iterator]()},n:function n(){var a=d.next();return f=a.done,a},e:function e(a){g=!0,e=a},f:function f(){try{f||null==d["return"]||d["return"]()}finally{if(g)throw e}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(c):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var JsCarousel=/*#__PURE__*/function(){function a(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,a),this.id="jsCarousel",this.name="jsCarousel",this.options=Object.assign({title:"jsCarousel",imagesToShow:3,animationDelay:5,animationDuration:1.5,displayToggleButton:!0,imageOffsetX:-100,imageOffsetY:30},d),this.container=document.getElementById(b),this.currentImage=0,this.gotoImage=null,this.images=c,this.animations=[],this.animationSettings={duration:1e3*this.options.animationDuration,easing:"ease-in-out",fill:"both",delay:1e3*this.options.animationDelay//iterations: Infinity
},this.container.classList.add("jsCarousel");var e=this,f=document.createElement("div");f.setAttribute("id",this.setId("__body")),f.setAttribute("class",this.setClass("__body")),this.container.appendChild(f);var g=document.createElement("div");g.setAttribute("id",this.setId("__footer")),g.setAttribute("class",this.setClass("__footer")),this.container.appendChild(g);var h=document.createElement("div");h.setAttribute("id",this.setId("__content")),h.setAttribute("class",this.setClass("__content")),f.appendChild(h);var j=document.createElement("div");j.setAttribute("id",this.setId("__images")),j.setAttribute("class",this.setClass("__images")),f.appendChild(j);var k=document.createElement("div");k.setAttribute("id",this.setId("__slides")),k.setAttribute("class",this.setClass("__slides")),h.appendChild(k);var l=document.createElement("div");l.setAttribute("id",this.setId("__footer-items")),l.setAttribute("class",this.setClass("__footer-items")),g.appendChild(l);var m=document.createElement("div");if(m.setAttribute("id",this.setId("__dots")),m.setAttribute("class",this.setClass("__dots")),g.appendChild(m),this.options.displayToggleButton){var t=document.createElement("button");t.setAttribute("id",this.setId("__toggle-button")),t.setAttribute("class",this.setId("__btn")),t.innerText="Pause",t.addEventListener("click",function(){for(var a=0;a<=e.options.imagesToShow;a++)"running"===e.animations[a].playState?(e.animations[a].pause(),t.innerText="Play"):(e.animations[a].play(),t.innerText="Pause")}),g.appendChild(t)}var n=1,o=1.2,p=1,q=1,r=100,s=0;if(Object.keys(this.images).forEach(function(a,b){var c=document.createElement("a"),d=e.id+"__link--"+b;c.setAttribute("id",d),c.setAttribute("class",e.id+"__link"+(0===b?" active":"")),m.appendChild(c),document.getElementById(d).addEventListener("click",function(){e.currentImage=b,e.updateSlide()}),document.getElementById(d).addEventListener("mouseover",function(){e.gotoSlide(b)});var f=document.createElement("div");f.setAttribute("id",e.setId("__footer-item--"+b)),f.setAttribute("class",e.id+"__footer-item"+(0===b?" active":"")),e.images[b].footerItems.forEach(function(a){var b=document.createElement("div");b.setAttribute("class",e.id+"__footer-item-column"),b.innerHTML=a,f.appendChild(b)}),l.appendChild(f);var g=document.createElement("section");g.setAttribute("id",e.setId("__slide--"+b)),g.setAttribute("class",e.setClass("__slide")),k.appendChild(g),0===b&&g.classList.add("active");var h=document.createElement("h1");h.setAttribute("class",e.setClass("__title")),h.innerText=e.options.title,g.appendChild(h);var i=document.createElement("h2");i.setAttribute("class",e.setClass("__subtitle")),i.innerText=e.images[b].title,g.appendChild(i);var t=document.createElement("div");if(t.innerHTML=e.images[b].description,g.appendChild(t),b<=e.options.imagesToShow){var u=document.createElement("img");u.setAttribute("src",e.images[b].src),u.setAttribute("alt",e.images[b].title),u.setAttribute("title",e.images[b].title),u.setAttribute("id",e.id+"__image--"+b),u.setAttribute("class",e.id+"__image "+e.id+"__image--"+b),u.style.left=r+"px",u.style.top=s+"px",u.style.zIndex=(e.images.length-b).toString(),j.appendChild(u),0===b?q=0:b===e.options.imagesToShow?p=0:q=1;var v=[{transform:"translate(0, 0) scale("+n+")",opacity:p},{transform:"translate("+e.options.imageOffsetX+"px, "+e.options.imageOffsetY+"px) scale("+o+")",opacity:q}];e.animations[b]=u.animate(v,e.animationSettings),n-=.2,o-=.2,r-=e.options.imageOffsetX,s-=e.options.imageOffsetY}}),this.animations instanceof Array&&"object"===_typeof(this.animations[0])){var u=this;this.animations[0].onfinish=function(){u.currentImage++,u.currentImage>=u.images.length&&(u.currentImage=0),u.updateSlide()}}}return _createClass(a,[{key:"updateSlide",value:function updateSlide(){var a,b=document.getElementsByClassName(this.id+"__slide active"),c=document.getElementsByClassName(this.id+"__link active"),d=document.getElementsByClassName(this.id+"__footer-item active"),e=_createForOfIteratorHelper(c);try{for(e.s();!(a=e.n()).done;){var q=a.value;q.classList.remove("active")}}catch(a){e.e(a)}finally{e.f()}var f,g=_createForOfIteratorHelper(b);try{for(g.s();!(f=g.n()).done;){var r=f.value;r.classList.remove("active")}}catch(a){g.e(a)}finally{g.f()}var h,k=_createForOfIteratorHelper(d);try{for(k.s();!(h=k.n()).done;){var s=h.value;s.classList.remove("active")}}catch(a){k.e(a)}finally{k.f()}var l=document.getElementById(this.id+"__link--"+this.currentImage),m=document.getElementById(this.id+"__slide--"+this.currentImage),n=document.getElementById(this.id+"__footer-item--"+this.currentImage);if(this.gotoImage===this.currentImage){for(var t=0;t<=this.options.imagesToShow;t++)this.animations[t].effect.updateTiming({delay:1e3*this.options.animationDelay,duration:1e3*this.options.animationDuration});this.gotoImage=null}l.classList.add("active"),m.classList.add("active"),n.classList.add("active");for(var o=this.currentImage,p=0;p<=this.options.imagesToShow;p++)o=this.currentImage+p,o>=this.images.length&&(o-=this.images.length),document.getElementById(this.id+"__image--"+p).src=this.images[o].src,this.animations[p].currentTime=0}},{key:"gotoSlide",value:function gotoSlide(a){if(this.gotoImage=a,this.currentImage!==this.gotoImage)for(var b=0;b<=this.options.imagesToShow;b++)this.animations[b].effect.updateTiming({delay:0,duration:100})}},{key:"setId",value:function setId(a){return this.id+a}},{key:"setClass",value:function setClass(a){return this.name+a}}]),a}();